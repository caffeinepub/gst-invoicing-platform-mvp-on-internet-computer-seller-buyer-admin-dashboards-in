{
  "kind": "coverage_report",
  "version": "1.0",
  "generatedAt": "2026-02-08T17:15:03.697Z",
  "sources": {
    "buildRequest": true,
    "implementationPlan": true
  },
  "requirements": {
    "total": 7,
    "implemented": 4,
    "items": [
      {
        "id": "REQ-1",
        "summary": "Backend: Add an authenticated ingestion API for incoming real-time energy readings from sensors/external energy APIs, including validation and normalization for these metrics: appliance power usage (Watts), solar generation (kW), battery charge level (%), and grid import/export.",
        "status": "unknown",
        "plannedFiles": [],
        "matchedFiles": []
      },
      {
        "id": "REQ-2",
        "summary": "Backend: Persist and serve time-ordered energy readings in the single Motoko actor (backend/main.mo), providing query methods to fetch (a) the latest reading per metric and (b) incremental updates since a provided timestamp (or cursor) to support low-latency UI updates and fault-tolerant recovery after disconnects.",
        "status": "unknown",
        "plannedFiles": [],
        "matchedFiles": []
      },
      {
        "id": "REQ-3",
        "summary": "Backend: Implement authorization checks suitable for real-time consumers, using the existing authenticated session model (frontend stores the token under localStorage key \"auth_token\") and ensuring only authenticated users can access live readings APIs.",
        "status": "unknown",
        "plannedFiles": [],
        "matchedFiles": []
      },
      {
        "id": "REQ-4",
        "summary": "Frontend: Create a dedicated real-time client service (in TypeScript) that attempts to connect to a live stream endpoint (WebSocket: ws://api/energy/live OR SSE: GET /api/energy/stream) when available, and otherwise falls back to incremental polling against the backend live-read APIs; the service must manage the connection lifecycle, auto-reconnect with backoff, throttling of UI updates, and error recovery.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/config/polling.ts",
          "frontend/src/services/realTimeEnergyService.ts",
          "frontend/src/services/liveReadingsApi.ts"
        ],
        "matchedFiles": [
          "frontend/src/config/polling.ts",
          "frontend/src/services/realTimeEnergyService.ts",
          "frontend/src/services/liveReadingsApi.ts"
        ]
      },
      {
        "id": "REQ-5",
        "summary": "Frontend: Add shared live-telemetry state (React context + hooks) that exposes (a) latest readings, (b) a rolling average per metric over a short window, (c) connection status (LIVE/DISCONNECTED), and (d) data freshness timestamps; integrate it into existing authenticated routes/pages.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/types/liveTelemetry.ts",
          "frontend/src/context/LiveTelemetryContext.tsx",
          "frontend/src/hooks/useLiveTelemetry.ts",
          "frontend/src/App.tsx"
        ],
        "matchedFiles": [
          "frontend/src/types/liveTelemetry.ts",
          "frontend/src/context/LiveTelemetryContext.tsx",
          "frontend/src/hooks/useLiveTelemetry.ts",
          "frontend/src/App.tsx"
        ]
      },
      {
        "id": "REQ-6",
        "summary": "Frontend: Update the Energy Consumption module (/consumption), Solar Allocation & Analysis module (/solar-analysis), and Cost Estimation module (/cost-estimation) to display live-updating values, status indicators (LIVE/DISCONNECTED), and clear data-freshness timestamps, with smooth transitions for value changes; keep existing loading/error/empty states compatible.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/components/energy/LiveStatusBadge.tsx",
          "frontend/src/components/energy/LastUpdatedLabel.tsx",
          "frontend/src/components/energy/AnimatedNumber.tsx",
          "frontend/src/pages/energy/ConsumptionPage.tsx",
          "frontend/src/pages/energy/SolarAnalysisPage.tsx",
          "frontend/src/pages/energy/CostEstimationPage.tsx"
        ],
        "matchedFiles": [
          "frontend/src/components/energy/LiveStatusBadge.tsx",
          "frontend/src/components/energy/LastUpdatedLabel.tsx",
          "frontend/src/components/energy/AnimatedNumber.tsx",
          "frontend/src/pages/energy/ConsumptionPage.tsx",
          "frontend/src/pages/energy/SolarAnalysisPage.tsx",
          "frontend/src/pages/energy/CostEstimationPage.tsx"
        ]
      },
      {
        "id": "REQ-7",
        "summary": "Frontend: Add lightweight logging hooks for real-time ingestion/streaming health (connect/disconnect events, retry counts, last message time, and error reasons) and ensure logs do not expose JWTs or sensitive user data.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/utils/realtimeLogging.ts",
          "frontend/src/services/realTimeEnergyService.ts",
          "frontend/src/config/polling.ts"
        ],
        "matchedFiles": [
          "frontend/src/utils/realtimeLogging.ts",
          "frontend/src/services/realTimeEnergyService.ts",
          "frontend/src/config/polling.ts"
        ]
      }
    ]
  },
  "changedFiles": [
    "backend/main.mo",
    "backend/migration.mo",
    "build-request.json",
    "feature_evidence.json",
    "frontend-file-summaries.txt",
    "frontend-implementation-plan.json",
    "frontend/src/App.tsx",
    "frontend/src/backend.d.ts",
    "frontend/src/backend.ts",
    "frontend/src/components/energy/AnimatedNumber.tsx",
    "frontend/src/components/energy/LastUpdatedLabel.tsx",
    "frontend/src/components/energy/LiveStatusBadge.tsx",
    "frontend/src/config/polling.ts",
    "frontend/src/context/LiveTelemetryContext.tsx",
    "frontend/src/declarations/backend.did.d.ts",
    "frontend/src/declarations/backend.did.js",
    "frontend/src/hooks/useLiveTelemetry.ts",
    "frontend/src/pages/energy/ConsumptionPage.tsx",
    "frontend/src/pages/energy/CostEstimationPage.tsx",
    "frontend/src/pages/energy/SolarAnalysisPage.tsx",
    "frontend/src/services/liveReadingsApi.ts",
    "frontend/src/services/realTimeEnergyService.ts",
    "frontend/src/types/liveTelemetry.ts",
    "frontend/src/utils/realtimeLogging.ts",
    "project_state.json",
    "scratch/component-selection.json",
    "spec.md",
    "spec_vs_diff_report.json"
  ]
}